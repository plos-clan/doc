<mxfile host="65bd71144e">
    <diagram id="4xi7hIIm2iAUVXr-ZjgE" name="第 1 页">
        <mxGraphModel dx="1013" dy="1689" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="229" value="copi143@outlook.com" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=-45;fontSize=120;fontColor=#FFFF9922;fontStyle=0;labelBorderColor=none;" parent="1" vertex="1">
                    <mxGeometry x="330" y="450" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="对于每一个全新的内存分配区&lt;br&gt;我们先为头尾创建标记" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="40" y="20" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="60" y="160" width="100" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="15" vertex="1">
                    <mxGeometry x="20" width="80" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="设置标记位 1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="15" vertex="1">
                    <mxGeometry x="20" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="0xffffffff" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="15" vertex="1">
                    <mxGeometry x="20" y="620" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="&lt;span style=&quot;text-align: center;&quot;&gt;内存分配区&lt;/span&gt;" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fillColor=#FF0000;" parent="15" vertex="1">
                    <mxGeometry width="20" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="220" y="160" width="100" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7F00FF;" parent="16" vertex="1">
                    <mxGeometry x="20" width="80" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="头" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="16" vertex="1">
                    <mxGeometry x="20" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="尾" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="16" vertex="1">
                    <mxGeometry x="20" y="620" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="20" value="&lt;span style=&quot;text-align: center;&quot;&gt;内存分配区&lt;/span&gt;" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fillColor=#FF0000;" parent="16" vertex="1">
                    <mxGeometry width="20" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="225" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="16" vertex="1">
                    <mxGeometry x="20" y="20" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="226" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="16" vertex="1">
                    <mxGeometry x="20" y="610" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="21" value="之后创建单一的空闲区域" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="200" y="130" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="大小 或 指针" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=1;" parent="1" vertex="1">
                    <mxGeometry x="400" width="260" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="25" value="0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;horizontal=1;" parent="1" vertex="1">
                    <mxGeometry x="700" y="80" width="20" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="26" value="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;horizontal=1;" parent="1" vertex="1">
                    <mxGeometry x="680" y="80" width="20" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="3 - 31" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;horizontal=1;" parent="1" vertex="1">
                    <mxGeometry x="400" y="80" width="260" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="2" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;horizontal=1;" parent="1" vertex="1">
                    <mxGeometry x="660" y="80" width="20" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;rotation=-90;" parent="1" vertex="1">
                    <mxGeometry x="550" y="-50" width="20" height="320" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="&lt;span style=&quot;text-align: right;&quot;&gt;64 位&lt;br&gt;内存头尾格式&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry y="-40" width="80" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="由于我们使用至少 8 字节的对齐，所以大小的低 3 bit 永远为 0，可以用来存放数据" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="400" y="120" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="420" y="360" width="100" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="48" value="" style="group" parent="53" vertex="1" connectable="0">
                    <mxGeometry x="20" width="80" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="42" value="" style="group" parent="48" vertex="1" connectable="0">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="42" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=0;align=center;" parent="42" vertex="1">
                    <mxGeometry x="70" width="10" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="头" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="42" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="43" value="" style="group" parent="48" vertex="1" connectable="0">
                    <mxGeometry y="140" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="44" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="43" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=0;align=center;" parent="43" vertex="1">
                    <mxGeometry x="70" width="10" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="尾" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="43" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="实际可用内存" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00CC66;" parent="48" vertex="1">
                    <mxGeometry y="20" width="80" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="内存块" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fillColor=#00CC66;" parent="53" vertex="1">
                    <mxGeometry width="20" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="54" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="620" y="280" width="120" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="55" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7F00FF;" parent="54" vertex="1">
                    <mxGeometry x="20" width="80" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="56" value="头" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="54" vertex="1">
                    <mxGeometry x="20" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="57" value="尾" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="54" vertex="1">
                    <mxGeometry x="20" y="620" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="58" value="&lt;span style=&quot;text-align: center;&quot;&gt;内存分配区&lt;/span&gt;" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fillColor=#FF0000;" parent="54" vertex="1">
                    <mxGeometry width="20" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="160" style="edgeStyle=none;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;endArrow=none;endFill=0;" parent="54" source="71" target="56" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="71" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00CC66;" parent="54" vertex="1">
                    <mxGeometry x="20" y="30" width="80" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="140" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7F00FF;" parent="54" vertex="1">
                    <mxGeometry x="20" y="380" width="80" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="170" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00CC66;" parent="54" vertex="1">
                    <mxGeometry x="20" y="450" width="80" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="182" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00CC66;" parent="54" vertex="1">
                    <mxGeometry x="20" y="270" width="80" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="183" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7F00FF;" parent="54" vertex="1">
                    <mxGeometry x="20" y="520" width="80" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="186" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="20" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="189" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="80" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="190" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="90" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="191" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="260" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="192" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="250" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="194" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="360" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="193" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="370" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="195" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="430" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="196" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="440" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="198" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="500" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="197" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="510" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="199" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="54" vertex="1">
                    <mxGeometry x="20" y="610" width="80" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="73" style="edgeStyle=none;html=1;" parent="1" source="72" target="17" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="72" value="我们使用紫色标记空闲区域" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="330" y="210" width="156" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="77" value="我们将内存块组织为如下格式" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="414" y="280" width="126" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="80" style="edgeStyle=none;html=1;" parent="1" source="79" target="71" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="79" value="我们使用绿色标记已分配区域" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="490" y="210" width="170" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="94" value="已分配块" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="450" y="330" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="95" value="空闲块" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="450" y="530" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="97" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="420" y="560" width="100" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="98" value="" style="group" parent="97" vertex="1" connectable="0">
                    <mxGeometry x="20" width="80" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="99" value="" style="group" parent="98" vertex="1" connectable="0">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="100" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="99" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="101" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=0;align=center;" parent="99" vertex="1">
                    <mxGeometry x="70" width="10" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="102" value="头" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="99" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="103" value="" style="group" parent="98" vertex="1" connectable="0">
                    <mxGeometry y="140" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="104" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="103" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="105" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=0;align=center;" parent="103" vertex="1">
                    <mxGeometry x="70" width="10" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="106" value="尾" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="103" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="107" value="实际可用内存" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00CC66;" parent="98" vertex="1">
                    <mxGeometry y="20" width="80" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="96" value="空闲链表指针" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66CC00;" parent="98" vertex="1">
                    <mxGeometry y="20" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="108" value="内存块" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fillColor=#00CC66;" parent="97" vertex="1">
                    <mxGeometry width="20" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="109" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="420" y="760" width="100" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="110" value="" style="group" parent="109" vertex="1" connectable="0">
                    <mxGeometry x="20" width="80" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="111" value="" style="group" parent="110" vertex="1" connectable="0">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="112" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="111" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="113" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=0;align=center;" parent="111" vertex="1">
                    <mxGeometry x="70" width="10" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="114" value="头" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="111" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="115" value="" style="group" parent="110" vertex="1" connectable="0">
                    <mxGeometry y="140" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="116" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="115" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="117" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=0;align=center;" parent="115" vertex="1">
                    <mxGeometry x="70" width="10" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="118" value="尾" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="115" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="119" value="实际可用内存" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00CC66;" parent="110" vertex="1">
                    <mxGeometry y="20" width="80" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="120" value="空闲链表指针" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66CC00;" parent="110" vertex="1">
                    <mxGeometry y="20" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="121" value="内存块" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fillColor=#00CC66;" parent="109" vertex="1">
                    <mxGeometry width="20" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="122" style="edgeStyle=none;html=1;curved=1;" parent="1" source="96" target="114" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="600" y="680"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="123" value="null" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="557.5" y="830" width="35" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="124" style="edgeStyle=none;html=1;" parent="1" source="120" target="123" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="133" style="edgeStyle=none;html=1;curved=1;" parent="1" source="132" target="12" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="70" y="140"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="132" value="内存分配区结构体" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66CC00;" parent="1" vertex="1">
                    <mxGeometry x="30" y="70" width="80" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="135" style="edgeStyle=none;html=1;startArrow=classic;startFill=1;" parent="1" source="134" target="56" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="134" value="内存分配区结构体" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66CC00;" parent="1" vertex="1">
                    <mxGeometry x="670" y="190" width="80" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="136" style="html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;strokeColor=default;endArrow=none;endFill=0;" parent="1" source="47" target="71" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="139" style="edgeStyle=none;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;endArrow=none;endFill=0;" parent="1" source="71" target="47" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="141" style="edgeStyle=none;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;endArrow=none;endFill=0;" parent="1" source="140" target="96" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="142" style="edgeStyle=none;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;endArrow=none;endFill=0;" parent="1" source="140" target="107" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="144" value="空闲链表分类 (共 8 类)&lt;br&gt;16(含) - 64(不含)&lt;br&gt;64(含) - 256(不含)&lt;br&gt;256(含) - 512(不含)&lt;br&gt;512(含) - 1024(不含)&lt;br&gt;1024(含) - 2048(不含)&lt;br&gt;2048(含) - 4096(不含)&lt;br&gt;4096(含) - 8192(不含)&lt;br&gt;8192(含)&amp;nbsp;- 16384(不含)&lt;br&gt;&lt;br&gt;对于超过 16k (4页) 的内存放在哈希表中" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;horizontal=1;" parent="1" vertex="1">
                    <mxGeometry y="890" width="160" height="190" as="geometry"/>
                </mxCell>
                <mxCell id="153" value="大小 或 指针" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=1;" parent="1" vertex="1">
                    <mxGeometry x="80" y="-80" width="560" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="154" value="4 - 63" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;horizontal=1;" parent="1" vertex="1">
                    <mxGeometry x="80" y="-100" width="560" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="155" value="0" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="640" y="-80" width="20" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="156" value="分配区大小标记" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="660" y="-80" width="20" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="157" value="分配区头尾标记" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="680" y="-80" width="20" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="159" value="空闲标记" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC00CC;horizontal=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="700" y="-80" width="20" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="161" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;rotation=90;" parent="1" vertex="1">
                    <mxGeometry x="390" y="-430" width="20" height="640" as="geometry"/>
                </mxCell>
                <mxCell id="162" value="由于我们使用至少 16 字节的对齐，所以大小的低 4 bit 永远为 0，可以用来存放数据" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="80" y="-140" width="640" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="163" value="&lt;span style=&quot;text-align: right;&quot;&gt;32 位&lt;br&gt;内存头尾格式&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="320" y="40" width="80" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="167" style="edgeStyle=none;curved=1;html=1;" parent="1" source="12" target="132" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="130" y="130"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="168" value="我们让内存头部指向分配区" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="110" y="75" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="200" style="edgeStyle=none;curved=1;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;endArrow=none;endFill=0;" parent="1" source="183" target="120" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="201" style="edgeStyle=none;curved=1;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;endArrow=none;endFill=0;" parent="1" source="183" target="119" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="233" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="232" target="156" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="232" value="4k (0) 或 2M (1)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="730" y="-110" width="97" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="234" value="仅多分配区时有效&lt;br&gt;单分配区时忽略" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="720" y="-80" width="107" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="243" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="800" y="200" width="80" height="240" as="geometry"/>
                </mxCell>
                <mxCell id="236" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7F00FF;" parent="243" vertex="1">
                    <mxGeometry width="80" height="240" as="geometry"/>
                </mxCell>
                <mxCell id="237" value="头" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="243" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="238" value="尾" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="243" vertex="1">
                    <mxGeometry y="220" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="245" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="800" y="440" width="80" height="240" as="geometry"/>
                </mxCell>
                <mxCell id="246" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7F00FF;" parent="245" vertex="1">
                    <mxGeometry width="80" height="240" as="geometry"/>
                </mxCell>
                <mxCell id="247" value="头" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="245" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="248" value="尾" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="245" vertex="1">
                    <mxGeometry y="220" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="258" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="249" target="253" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="269" value="" style="edgeStyle=none;html=1;" parent="1" source="249" target="55" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="249" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;fontColor=#ffffff;strokeColor=#A50040;" parent="1" vertex="1">
                    <mxGeometry x="790" y="410" width="100" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="250" value="合并相邻分配区时" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="880" y="200" width="20" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="251" value="直接删去对应的头尾" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="900" y="280" width="20" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="256" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="920" y="200" width="80" height="480" as="geometry"/>
                </mxCell>
                <mxCell id="253" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7F00FF;" parent="256" vertex="1">
                    <mxGeometry width="80" height="480" as="geometry"/>
                </mxCell>
                <mxCell id="254" value="头" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="256" vertex="1">
                    <mxGeometry width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="255" value="尾" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0000;" parent="256" vertex="1">
                    <mxGeometry y="460" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="259" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="256" vertex="1">
                    <mxGeometry y="220" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="260" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;horizontal=0;" parent="256" vertex="1">
                    <mxGeometry y="240" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="257" value="然后创建大小为0的块" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="900" y="480" width="20" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="261" value="合并分配区的操作" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="800" y="160" width="100" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="262" value="（合并内存块也类似）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="870" y="180" width="130" height="20" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>